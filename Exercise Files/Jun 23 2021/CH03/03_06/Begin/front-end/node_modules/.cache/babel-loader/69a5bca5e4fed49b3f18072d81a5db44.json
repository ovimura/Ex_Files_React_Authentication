{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\Ex_Files_React_Authentication\\\\Exercise Files\\\\Jun 23 2021\\\\CH03\\\\03_06\\\\Begin\\\\front-end\\\\src\\\\pages\\\\EmailVerificationLandingPage.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { useToken } from '../auth/useToken';\nimport { EmailVerificationSuccess } from './EmailVerificationSuccess';\nimport { EmailVerificationFail } from './EmailVerificationFail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EmailVerificationLandingPage = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const {\n    verificationString\n  } = useParams();\n  const [, setToken] = useToken();\n  useEffect(() => {\n    const loadVerification = async () => {\n      try {\n        const response = await axios.put('/api/verify-email', {\n          verificationString\n        });\n        const {\n          token\n        } = response.data;\n        setToken(token);\n        setIsSuccess(true);\n        setIsLoading(false);\n      } catch (e) {\n        setIsSuccess(false);\n        setIsLoading(false);\n      }\n    };\n    loadVerification();\n  }, [setToken, verificationString]);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 27\n  }, this);\n  if (!isSuccess) return /*#__PURE__*/_jsxDEV(EmailVerificationFail, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 28\n  }, this);\n  return /*#__PURE__*/_jsxDEV(EmailVerificationSuccess, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 12\n  }, this);\n};\n_s(EmailVerificationLandingPage, \"ftukGp2uEDBAvOclzDYdi6KYwkk=\", false, function () {\n  return [useParams, useToken];\n});\n_c = EmailVerificationLandingPage;\nvar _c;\n$RefreshReg$(_c, \"EmailVerificationLandingPage\");","map":{"version":3,"names":["useState","useEffect","useParams","axios","useToken","EmailVerificationSuccess","EmailVerificationFail","jsxDEV","_jsxDEV","EmailVerificationLandingPage","_s","isLoading","setIsLoading","isSuccess","setIsSuccess","verificationString","setToken","loadVerification","response","put","token","data","e","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/repos/Ex_Files_React_Authentication/Exercise Files/Jun 23 2021/CH03/03_06/Begin/front-end/src/pages/EmailVerificationLandingPage.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { useToken } from '../auth/useToken';\nimport { EmailVerificationSuccess } from './EmailVerificationSuccess';\nimport { EmailVerificationFail } from './EmailVerificationFail';\n\nexport const EmailVerificationLandingPage = () => {\n    const [isLoading, setIsLoading] = useState(true);\n    const [isSuccess, setIsSuccess] = useState(false);\n    const { verificationString } = useParams();\n    const [,setToken] = useToken();\n\n    useEffect(() => {\n        const loadVerification = async () => {\n            try {\n                const response = await axios.put('/api/verify-email', { verificationString });\n                const { token } = response.data;\n                setToken(token);\n                setIsSuccess(true);\n                setIsLoading(false);\n            } catch (e) { \n                setIsSuccess(false);\n                setIsLoading(false);\n            }\n        }\n\n        loadVerification();\n    }, [setToken, verificationString]);\n\n    if (isLoading) return <p>Loading...</p>;\n    if (!isSuccess) return <EmailVerificationFail />\n    return <EmailVerificationSuccess />\n}"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,wBAAwB,QAAQ,4BAA4B;AACrE,SAASC,qBAAqB,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,OAAO,MAAMC,4BAA4B,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM;IAAEe;EAAmB,CAAC,GAAGb,SAAS,CAAC,CAAC;EAC1C,MAAM,GAAEc,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,CAAC;EAE9BH,SAAS,CAAC,MAAM;IACZ,MAAMgB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,mBAAmB,EAAE;UAAEJ;QAAmB,CAAC,CAAC;QAC7E,MAAM;UAAEK;QAAM,CAAC,GAAGF,QAAQ,CAACG,IAAI;QAC/BL,QAAQ,CAACI,KAAK,CAAC;QACfN,YAAY,CAAC,IAAI,CAAC;QAClBF,YAAY,CAAC,KAAK,CAAC;MACvB,CAAC,CAAC,OAAOU,CAAC,EAAE;QACRR,YAAY,CAAC,KAAK,CAAC;QACnBF,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC;IAEDK,gBAAgB,CAAC,CAAC;EACtB,CAAC,EAAE,CAACD,QAAQ,EAAED,kBAAkB,CAAC,CAAC;EAElC,IAAIJ,SAAS,EAAE,oBAAOH,OAAA;IAAAe,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACvC,IAAI,CAACd,SAAS,EAAE,oBAAOL,OAAA,CAACF,qBAAqB;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAChD,oBAAOnB,OAAA,CAACH,wBAAwB;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACvC,CAAC;AAAAjB,EAAA,CA1BYD,4BAA4B;EAAA,QAGNP,SAAS,EACpBE,QAAQ;AAAA;AAAAwB,EAAA,GAJnBnB,4BAA4B;AAAA,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}