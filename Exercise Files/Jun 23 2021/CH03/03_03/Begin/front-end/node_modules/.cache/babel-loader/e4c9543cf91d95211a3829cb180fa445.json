{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useToken } from './useToken';\nexport const useUser = () => {\n  _s();\n  const [token] = useToken();\n  const getPayloadFromToken = token => {\n    const encodedPayload = token.split('.')[1];\n    return JSON.parse(atob(encodedPayload));\n  };\n  const [user, setUser] = useState(() => {\n    if (!token) return null;\n    return getPayloadFromToken(token);\n  });\n  useEffect(() => {\n    if (!token) {\n      setUser(null);\n    } else {\n      setUser(getPayloadFromToken(token));\n    }\n  }, [token]);\n  return user;\n};\n_s(useUser, \"jFAG6Nrl6GImfRZEMoQwE1dGaI8=\", false, function () {\n  return [useToken];\n});","map":{"version":3,"names":["useState","useEffect","useToken","useUser","_s","token","getPayloadFromToken","encodedPayload","split","JSON","parse","atob","user","setUser"],"sources":["C:/repos/Ex_Files_React_Authentication/Exercise Files/Jun 23 2021/CH03/03_03/Begin/front-end/src/auth/useUser.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useToken } from './useToken';\n\nexport const useUser = () => {\n    const [token] = useToken();\n\n    const getPayloadFromToken = token => {\n        const encodedPayload = token.split('.')[1];\n        return JSON.parse(atob(encodedPayload));\n    }\n\n    const [user, setUser] = useState(() => {\n        if (!token) return null;\n        return getPayloadFromToken(token);\n    });\n\n    useEffect(() => {\n        if (!token) {\n            setUser(null);\n        } else {\n            setUser(getPayloadFromToken(token));\n        }\n    }, [token]);\n\n    return user;\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,KAAK,CAAC,GAAGH,QAAQ,CAAC,CAAC;EAE1B,MAAMI,mBAAmB,GAAGD,KAAK,IAAI;IACjC,MAAME,cAAc,GAAGF,KAAK,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1C,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACJ,cAAc,CAAC,CAAC;EAC3C,CAAC;EAED,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,MAAM;IACnC,IAAI,CAACK,KAAK,EAAE,OAAO,IAAI;IACvB,OAAOC,mBAAmB,CAACD,KAAK,CAAC;EACrC,CAAC,CAAC;EAEFJ,SAAS,CAAC,MAAM;IACZ,IAAI,CAACI,KAAK,EAAE;MACRQ,OAAO,CAAC,IAAI,CAAC;IACjB,CAAC,MAAM;MACHA,OAAO,CAACP,mBAAmB,CAACD,KAAK,CAAC,CAAC;IACvC;EACJ,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,OAAOO,IAAI;AACf,CAAC;AAAAR,EAAA,CAtBYD,OAAO;EAAA,QACAD,QAAQ;AAAA"},"metadata":{},"sourceType":"module"}